(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-06281872"],{"5cda":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"divBox"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("el-tabs",{on:{"tab-click":t.getList},model:{value:t.tableFrom.type,callback:function(e){t.$set(t.tableFrom,"type",e)},expression:"tableFrom.type"}},t._l(t.headeNum,(function(t,e){return a("el-tab-pane",{key:e,attrs:{name:t.type.toString(),label:t.name+"("+t.count+")"}})})),1),t._v(" "),a("div",{staticClass:"container"},[a("el-form",{attrs:{size:"small","label-width":"120px",inline:!0}},[a("el-form-item",{attrs:{label:"秒杀状态："}},[a("el-select",{staticClass:"filter-item selWidth mr20",attrs:{placeholder:"请选择",clearable:""},on:{change:t.getList},model:{value:t.tableFrom.seckill_status,callback:function(e){t.$set(t.tableFrom,"seckill_status",e)},expression:"tableFrom.seckill_status"}},t._l(t.seckillStatusList,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"关键字搜索："}},[a("el-input",{staticClass:"selWidth",attrs:{placeholder:"请输入商品名称，关键字，产品编号"},model:{value:t.tableFrom.keyword,callback:function(e){t.$set(t.tableFrom,"keyword",e)},expression:"tableFrom.keyword"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.getList},slot:"append"})],1)],1)],1)],1),t._v(" "),a("router-link",{attrs:{to:{path:t.roterPre+"/marketing/seckill/createGoods"}}},[a("el-button",{attrs:{size:"small",type:"primary"}},[a("i",{staticClass:"add"},[t._v("+")]),t._v(" 添加秒杀商品\n        ")])],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData.data,size:"mini"}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form",{staticClass:"demo-table-expand demo-table-expand1",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"平台分类："}},[a("span",[t._v(t._s(e.row.storeCategory?e.row.storeCategory.cate_name:"-"))])]),t._v(" "),a("el-form-item",{attrs:{label:"商品分类："}},[e.row.merCateId.length?t._l(e.row.merCateId,(function(e,s){return a("span",{key:s,staticClass:"mr10"},[t._v(t._s(e.category.cate_name))])})):a("span",[t._v("-")])],2),t._v(" "),a("el-form-item",{attrs:{label:"品牌："}},[a("span",{staticClass:"mr10"},[t._v(t._s(e.row.brand?e.row.brand.brand_name:"-"))])]),t._v(" "),a("el-form-item",{attrs:{label:"市场价格："}},[a("span",[t._v(t._s(t._f("filterEmpty")(e.row.ot_price)))])]),t._v(" "),a("el-form-item",{attrs:{label:"成本价："}},[a("span",[t._v(t._s(t._f("filterEmpty")(e.row.cost)))])]),t._v(" "),a("el-form-item",{attrs:{label:"收藏："}},[a("span",[t._v(t._s(t._f("filterEmpty")(e.row.care_count)))])]),t._v(" "),"7"===t.tableFrom.type?a("el-form-item",{key:"1",attrs:{label:"未通过原因："}},[a("span",[t._v(t._s(t._f("filterEmpty")(e.row.care_count)))])]):t._e()],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"product_id",label:"ID","min-width":"50"}}),t._v(" "),a("el-table-column",{attrs:{label:"商品图","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("div",{staticClass:"demo-image__preview"},[a("el-image",{attrs:{src:t.row.image,"preview-src-list":[t.row.image]}})],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"store_name",label:"活动标题","min-width":"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"store_info",label:"商品简介","min-width":"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"price",label:"秒杀价","min-width":"90"}}),t._v(" "),a("el-table-column",{attrs:{label:"限量剩余","min-width":"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.stock-e.row.sales))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"stock",label:"秒杀状态","min-width":"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("seckillStatusFilter")(e.row.seckill_status)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"秒杀活动日期","min-width":"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v("开始日期："+t._s(e.row.seckillActive&&e.row.seckillActive.start_day?e.row.seckillActive.start_day.slice(0,10):""))]),t._v(" "),a("div",[t._v("结束日期："+t._s(e.row.seckillActive&&e.row.seckillActive.end_day?e.row.seckillActive.end_day.slice(0,10):""))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"秒杀活动时间","min-width":"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v("开始时间："+t._s(e.row.seckillActive&&e.row.seckillActive.start_time?e.row.seckillActive.start_time+":00":""))]),t._v(" "),a("div",[t._v("结束时间："+t._s(e.row.seckillActive&&e.row.seckillActive.end_time?e.row.seckillActive.end_time+":00":""))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-text":"上架","inactive-text":"下架"},on:{change:function(a){return t.onchangeIsShow(e.row)}},model:{value:e.row.is_show,callback:function(a){t.$set(e.row,"is_show",a)},expression:"scope.row.is_show"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"审核状态","min-width":"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("seckillReviewStatusFilter")(e.row.status)))]),t._v(" "),-1==e.row.status||-2==e.row.status?a("span",{staticStyle:{"font-size":"12px"}},[a("br"),t._v("\n            原因："+t._s(e.row.refusal)+"\n          ")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"150",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{attrs:{to:{path:t.roterPre+"/marketing/seckill/createGoods/"+e.row.product_id}}},[a("el-button",{staticClass:"mr10",attrs:{type:"text",size:"small"}},[t._v("编辑")])],1),t._v(" "),"5"===t.tableFrom.type?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleRestore(e.row.product_id)}}},[t._v("恢复商品")]):t._e(),t._v(" "),"1"!==t.tableFrom.type&&"3"!==t.tableFrom.type&&"4"!==t.tableFrom.type?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleDelete(e.row.product_id,e.$index)}}},[t._v(t._s("5"===t.tableFrom.type?"删除":"加入回收站"))]):t._e()]}}])})],1),t._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"page-sizes":[20,40,60,80],"page-size":t.tableFrom.limit,"current-page":t.tableFrom.page,layout:"total, sizes, prev, pager, next, jumper",total:t.tableData.total},on:{"size-change":t.handleSizeChange,"current-change":t.pageChange}})],1)],1)],1)},l=[],i=a("c4c8"),r=a("83d6"),o={name:"ProductList",data:function(){return{props:{emitPath:!1},roterPre:r["roterPre"],headeNum:[],listLoading:!0,tableData:{data:[],total:0},seckillStatusList:[{label:"正在进行",value:2},{label:"活动已结束",value:3},{label:"活动未开始",value:1}],tableFrom:{page:1,limit:20,mer_cate_id:"",cate_id:"",keyword:"",type:"1",seckill_status:""},categoryList:[],merCateList:[],modals:!1}},mounted:function(){this.getLstFilterApi(),this.getCategorySelect(),this.getCategoryList(),this.getList()},methods:{onClose:function(){this.modals=!1},handleRestore:function(t){var e=this;this.$modalSure("恢复商品").then((function(){Object(i["C"])(t).then((function(t){e.$message.success(t.message),e.getLstFilterApi(),e.getList()})).catch((function(t){e.$message.error(t.message)}))}))},getCategorySelect:function(){var t=this;Object(i["f"])().then((function(e){t.merCateList=e.data})).catch((function(e){t.$message.error(e.message)}))},getCategoryList:function(){var t=this;Object(i["e"])().then((function(e){t.categoryList=e.data})).catch((function(e){t.$message.error(e.message)}))},getLstFilterApi:function(){var t=this;Object(i["E"])().then((function(e){t.headeNum=e.data})).catch((function(e){t.$message.error(e.message)}))},getList:function(){var t=this;this.listLoading=!0,Object(i["x"])(this.tableFrom).then((function(e){t.tableData.data=e.data.list,t.tableData.total=e.data.count,t.listLoading=!1})).catch((function(e){t.listLoading=!1,t.$message.error(e.message)}))},pageChange:function(t){this.tableFrom.page=t,this.getList()},handleSizeChange:function(t){this.tableFrom.limit=t,this.getList()},handleDelete:function(t,e){var a=this;this.$modalSure("5"!==this.tableFrom.type?"加入回收站":"").then((function(){"5"===a.tableFrom.type?Object(i["A"])(t).then((function(t){var e=t.message;a.$message.success(e),a.getList(),a.getLstFilterApi()})).catch((function(t){var e=t.message;a.$message.error(e)})):Object(i["B"])(t).then((function(t){var e=t.message;a.$message.success(e),a.getList(),a.getLstFilterApi()})).catch((function(t){var e=t.message;a.$message.error(e)}))}))},onchangeIsShow:function(t){var e=this;Object(i["D"])(t.product_id,t.is_show).then((function(t){var a=t.message;e.$message.success(a),e.getList(),e.getLstFilterApi()})).catch((function(t){var a=t.message;e.$message.error(a)}))}}},n=o,c=(a("eb72"),a("2877")),u=Object(c["a"])(n,s,l,!1,null,"07babb10",null);e["default"]=u.exports},"82f8":function(t,e,a){},eb72:function(t,e,a){"use strict";var s=a("82f8"),l=a.n(s);l.a}}]);