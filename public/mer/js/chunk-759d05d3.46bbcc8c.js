(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-759d05d3"],{"2b82":function(e,t,a){},"4a00":function(e,t,a){},"4e63":function(e,t,a){"use strict";var i=a("4a00"),l=a.n(i);l.a},b927:function(e,t,a){"use strict";var i=a("e837"),l=a.n(i);l.a},b9a9:function(e,t,a){"use strict";var i=a("2b82"),l=a.n(i);l.a},c437:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"divBox"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("el-tabs",{on:{"tab-click":function(t){return e.getList(1)}},model:{value:e.tableFrom.type,callback:function(t){e.$set(e.tableFrom,"type",t)},expression:"tableFrom.type"}},e._l(e.headeNum,(function(e,t){return a("el-tab-pane",{key:t,attrs:{name:e.type.toString(),label:e.name+"("+e.count+")"}})})),1),e._v(" "),a("div",{staticClass:"container"},[a("el-form",{attrs:{size:"small","label-width":"120px",inline:!0}},[a("el-form-item",{attrs:{label:"平台商品分类："}},[a("el-cascader",{staticClass:"selWidth",attrs:{options:e.categoryList,props:e.props,clearable:""},on:{change:function(t){return e.getList(1)}},model:{value:e.tableFrom.cate_id,callback:function(t){e.$set(e.tableFrom,"cate_id",t)},expression:"tableFrom.cate_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商户商品分类："}},[a("el-select",{staticClass:"filter-item selWidth mr20",attrs:{placeholder:"请选择",clearable:""},on:{change:function(t){return e.getList(1)}},model:{value:e.tableFrom.mer_cate_id,callback:function(t){e.$set(e.tableFrom,"mer_cate_id",t)},expression:"tableFrom.mer_cate_id"}},e._l(e.merCateList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"是否为礼包："}},[a("el-select",{staticClass:"selWidth",attrs:{placeholder:"请选择",clearable:""},on:{change:function(t){return e.getList(1)}},model:{value:e.tableFrom.is_gift_bag,callback:function(t){e.$set(e.tableFrom,"is_gift_bag",t)},expression:"tableFrom.is_gift_bag\t"}},[a("el-option",{attrs:{label:"是",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"否",value:"0"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"关键字搜索："}},[a("el-input",{staticClass:"selWidth",attrs:{placeholder:"请输入商品名称，关键字"},model:{value:e.tableFrom.keyword,callback:function(t){e.$set(e.tableFrom,"keyword",t)},expression:"tableFrom.keyword"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){return e.getList(1)}},slot:"append"})],1)],1)],1)],1),e._v(" "),a("router-link",{attrs:{to:{path:e.roterPre+"/product/list/addProduct"}}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("添加商品")])],1),e._v(" "),a("el-button",{attrs:{size:"small",type:"success"},on:{click:e.onCopy}},[e._v("复制淘宝、天猫、京东、拼多多、苏宁")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData.data,size:"mini"}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand demo-table-expand1",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"平台分类："}},[a("span",[e._v(e._s(t.row.storeCategory?t.row.storeCategory.cate_name:"-"))])]),e._v(" "),a("el-form-item",{attrs:{label:"商品分类："}},[t.row.merCateId.length?e._l(t.row.merCateId,(function(t,i){return a("span",{key:i,staticClass:"mr10"},[e._v(e._s(t.category.cate_name))])})):a("span",[e._v("-")])],2),e._v(" "),a("el-form-item",{attrs:{label:"品牌："}},[a("span",{staticClass:"mr10"},[e._v(e._s(t.row.brand?t.row.brand.brand_name:"-"))])]),e._v(" "),a("el-form-item",{attrs:{label:"市场价格："}},[a("span",[e._v(e._s(e._f("filterEmpty")(t.row.ot_price)))])]),e._v(" "),a("el-form-item",{attrs:{label:"成本价："}},[a("span",[e._v(e._s(e._f("filterEmpty")(t.row.cost)))])]),e._v(" "),a("el-form-item",{attrs:{label:"收藏："}},[a("span",[e._v(e._s(e._f("filterEmpty")(t.row.care_count)))])]),e._v(" "),"7"===e.tableFrom.type?a("el-form-item",{key:"1",attrs:{label:"未通过原因："}},[a("span",[e._v(e._s(t.row.refusal))])]):e._e()],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"product_id",label:"ID","min-width":"50"}}),e._v(" "),a("el-table-column",{attrs:{label:"商品图","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("div",{staticClass:"demo-image__preview"},[a("el-image",{attrs:{src:e.row.image,"preview-src-list":[e.row.image]}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"store_name",label:"商品名称","min-width":"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"price",label:"商品售价","min-width":"90"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sales",label:"销量","min-width":"90"}}),e._v(" "),a("el-table-column",{attrs:{prop:"stock",label:"库存","min-width":"90"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sort",label:"排序","min-width":"70"}}),e._v(" "),Number(e.tableFrom.type)<5?a("el-table-column",{key:"1",attrs:{prop:"status",label:"状态","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-text":"上架","inactive-text":"下架"},on:{change:function(a){return e.onchangeIsShow(t.row)}},model:{value:t.row.is_show,callback:function(a){e.$set(t.row,"is_show",a)},expression:"scope.row.is_show"}})]}}],null,!1,132813036)}):e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间","min-width":"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"150",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{attrs:{to:{path:e.roterPre+"/product/list/addProduct/"+t.row.product_id}}},[a("el-button",{staticClass:"mr10",attrs:{type:"text",size:"small"}},[e._v("编辑")])],1),e._v(" "),"5"===e.tableFrom.type?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleRestore(t.row.product_id)}}},[e._v("恢复商品")]):e._e(),e._v(" "),"1"!==e.tableFrom.type&&"3"!==e.tableFrom.type&&"4"!==e.tableFrom.type?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleDelete(t.row.product_id,t.$index)}}},[e._v(e._s("5"===e.tableFrom.type?"删除":"加入回收站"))]):e._e()]}}])})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"page-sizes":[20,40,60,80],"page-size":e.tableFrom.limit,"current-page":e.tableFrom.page,layout:"total, sizes, prev, pager, next, jumper",total:e.tableData.total},on:{"size-change":e.handleSizeChange,"current-change":e.pageChange}})],1)],1),e._v(" "),a("tao-bao",{ref:"taoBao",on:{getSuccess:e.getSuccess}})],1)},l=[],o=a("c4c8"),n=a("83d6"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Box"},[e.modals?a("el-dialog",{attrs:{visible:e.modals,width:"70%",title:"复制淘宝、天猫、拼多多、京东、苏宁","custom-class":"dialog-scustom"},on:{"update:visible":function(t){e.modals=t}}},[a("el-card",[e._v("\n      生成的商品默认是没有上架的，请手动上架商品！\n      "),a("span",{staticStyle:{color:"rgb(237, 64, 20)"}},[e._v("商品复制次数剩余："+e._s(e.count)+"次")])]),e._v(" "),a("el-form",{ref:"formValidate",staticClass:"formValidate mt20",attrs:{model:e.formValidate,rules:e.ruleInline,"label-width":"120px","label-position":"right"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:"","label-for":""}},[a("el-radio-group",{model:{value:e.artFrom.type,callback:function(t){e.$set(e.artFrom,"type",t)},expression:"artFrom.type"}},[a("el-radio",{attrs:{label:"taobao"}},[e._v("淘宝")]),e._v(" "),a("el-radio",{attrs:{label:"tmall"}},[e._v("天猫")]),e._v(" "),a("el-radio",{attrs:{label:"jd"}},[e._v("京东")]),e._v(" "),a("el-radio",{attrs:{label:"pdd"}},[e._v("拼多多")]),e._v(" "),a("el-radio",{attrs:{label:"suning"}},[e._v("苏宁")])],1),e._v(" "),a("el-button",{staticStyle:{"margin-left":"15px"},attrs:{size:"small",type:"primary"},on:{click:e.openRecords}},[e._v("查看商品复制记录")])],1),e._v(" "),a("el-form-item",{attrs:{label:"链接地址："}},[a("el-input",{staticClass:"numPut",attrs:{search:"",placeholder:"请输入链接地址"},model:{value:e.soure_link,callback:function(t){e.soure_link=t},expression:"soure_link"}}),e._v(" "),a("el-button",{attrs:{loading:e.loading,size:"small",type:"primary"},on:{click:e.add}},[e._v("确定")])],1),e._v(" "),a("div",[e.isData?a("div",[a("el-form-item",{attrs:{label:"商品名称：",prop:"store_name"}},[a("el-input",{attrs:{placeholder:"请输入商品名称"},model:{value:e.formValidate.store_name,callback:function(t){e.$set(e.formValidate,"store_name",t)},expression:"formValidate.store_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品简介：",prop:"store_info","label-for":"store_info"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入商品简介"},model:{value:e.formValidate.store_info,callback:function(t){e.$set(e.formValidate,"store_info",t)},expression:"formValidate.store_info"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"平台商品分类：",prop:"cate_id"}},[a("el-cascader",{staticClass:"selWidth",attrs:{options:e.categoryList,clearable:""},model:{value:e.formValidate.cate_id,callback:function(t){e.$set(e.formValidate,"cate_id",t)},expression:"formValidate.cate_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商户商品分类：",prop:"mer_cate_id"}},[a("el-cascader",{staticClass:"selWidth",attrs:{options:e.merCateList,props:e.propsMer,clearable:""},model:{value:e.formValidate.mer_cate_id,callback:function(t){e.$set(e.formValidate,"mer_cate_id",t)},expression:"formValidate.mer_cate_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"品牌选择：",prop:"brand_id"}},[a("el-select",{staticClass:"selWidth",attrs:{filterable:"",placeholder:"请选择"},model:{value:e.formValidate.brand_id,callback:function(t){e.$set(e.formValidate,"brand_id",t)},expression:"formValidate.brand_id"}},e._l(e.BrandList,(function(e){return a("el-option",{key:e.brand_id,attrs:{label:e.brand_name,value:e.brand_id}})})),1)],1),e._v(" "),a("el-form-item",e._b({attrs:{label:"商品关键字：",prop:"keyword","label-for":"keyword"}},"el-form-item",e.grid,!1),[a("el-input",{attrs:{placeholder:"请输入商品关键字"},model:{value:e.formValidate.keyword,callback:function(t){e.$set(e.formValidate,"keyword",t)},expression:"formValidate.keyword"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"单位：",prop:"unit_name","label-for":"unit_name"}},[a("el-input",{attrs:{placeholder:"请输入单位"},model:{value:e.formValidate.unit_name,callback:function(t){e.$set(e.formValidate,"unit_name",t)},expression:"formValidate.unit_name"}})],1),e._v(" "),a("el-form-item",e._b({attrs:{label:"运费模板：",prop:"temp_id"}},"el-form-item",e.grid,!1),[a("el-select",{attrs:{clearable:""},model:{value:e.formValidate.temp_id,callback:function(t){e.$set(e.formValidate,"temp_id",t)},expression:"formValidate.temp_id"}},e._l(e.shippingList,(function(e){return a("el-option",{key:e.shipping_template_id,attrs:{label:e.name,value:e.shipping_template_id}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"商品图："}},[a("div",{staticClass:"pictrueBox"},[e.formValidate.image?a("div",{staticClass:"pictrue"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.formValidate.image,expression:"formValidate.image"}]})]):e._e()])]),e._v(" "),a("el-form-item",{attrs:{label:"商品轮播图："}},[a("div",{staticClass:"acea-row"},e._l(e.formValidate.slider_image,(function(t,i){return a("div",{key:i,staticClass:"lunBox mr15",attrs:{draggable:"true"},on:{dragstart:function(a){return e.handleDragStart(a,t)},dragover:function(a){return a.preventDefault(),e.handleDragOver(a,t)},dragenter:function(a){return e.handleDragEnter(a,t)},dragend:function(a){return e.handleDragEnd(a,t)}}},[a("div",{staticClass:"pictrue"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t,expression:"item"}]})]),e._v(" "),a("div",{staticClass:"buttonGroup"},[a("el-button",{staticClass:"small-btn",nativeOn:{click:function(a){return e.checked(t,i)}}},[e._v("主图")]),e._v(" "),a("el-button",{staticClass:"small-btn",nativeOn:{click:function(t){return e.handleRemove(i)}}},[e._v("移除")])],1)])})),0)]),e._v(" "),e.taoBaoStatus&&1===e.formValidate.spec_type?a("el-form-item",{staticClass:"labeltop",attrs:{label:"批量设置："}},[a("el-table",{attrs:{data:e.oneFormBatch}},[a("el-table-column",{attrs:{label:"图片","min-width":"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"acea-row row-middle row-center-wrapper",on:{click:function(a){return e.modalPicTap("1","dan",t.$index)}}},[e.oneFormBatch[0].pic?a("div",{staticClass:"pictrue pictrueTab"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.oneFormBatch[0].pic,expression:"oneFormBatch[0].pic"}]})]):a("div",{staticClass:"upLoad pictrueTab acea-row row-center-wrapper"},[a("i",{staticClass:"el-icon-camera cameraIconfont"})])])]}}],null,!1,3801308421)}),e._v(" "),a("el-table-column",{attrs:{label:"售价","min-width":"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticClass:"priceBox",model:{value:e.oneFormBatch[0].price,callback:function(t){e.$set(e.oneFormBatch[0],"price",e._n(t))},expression:"oneFormBatch[0].price"}})]}}],null,!1,3081250874)}),e._v(" "),a("el-table-column",{attrs:{label:"成本价","min-width":"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticClass:"priceBox",model:{value:e.oneFormBatch[0].cost,callback:function(t){e.$set(e.oneFormBatch[0],"cost",e._n(t))},expression:"oneFormBatch[0].cost"}})]}}],null,!1,3560078044)}),e._v(" "),a("el-table-column",{attrs:{label:"原价","min-width":"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticClass:"priceBox",model:{value:e.oneFormBatch[0].ot_price,callback:function(t){e.$set(e.oneFormBatch[0],"ot_price",e._n(t))},expression:"oneFormBatch[0].ot_price"}})]}}],null,!1,610416286)}),e._v(" "),a("el-table-column",{attrs:{label:"库存","min-width":"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticClass:"priceBox",model:{value:e.oneFormBatch[0].stock,callback:function(t){e.$set(e.oneFormBatch[0],"stock",e._n(t))},expression:"oneFormBatch[0].stock"}})]}}],null,!1,86708727)}),e._v(" "),a("el-table-column",{attrs:{label:"商品编号","min-width":"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:e.oneFormBatch[0].bar_code,callback:function(t){e.$set(e.oneFormBatch[0],"bar_code",t)},expression:"oneFormBatch[0].bar_code"}})]}}],null,!1,989028316)}),e._v(" "),a("el-table-column",{attrs:{label:"重量(KG)","min-width":"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticClass:"priceBox",model:{value:e.oneFormBatch[0].weight,callback:function(t){e.$set(e.oneFormBatch[0],"weight",e._n(t))},expression:"oneFormBatch[0].weight"}})]}}],null,!1,1971304471)}),e._v(" "),a("el-table-column",{attrs:{label:"体积(m²)","min-width":"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticClass:"priceBox",model:{value:e.oneFormBatch[0].volume,callback:function(t){e.$set(e.oneFormBatch[0],"volume",e._n(t))},expression:"oneFormBatch[0].volume"}})]}}],null,!1,183703231)}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticClass:"ela-btn",attrs:{href:"javascript: void(0);"},on:{click:e.batchAdd}},[e._v("添加")]),e._v(" "),a("a",{staticClass:"ela-btn",attrs:{href:"javascript: void(0);"},on:{click:e.batchDel}},[e._v("清空")])]}}],null,!1,2952505336)})],1)],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"商品规格：",props:"spec_type","label-for":"spec_type"}},[a("el-form-item",[a("el-table",{attrs:{data:e.items,props:"spec_type","label-for":"spec_type"}},[e._l(e.columns,(function(t,i){return[t.key?a("el-table-column",{key:i,attrs:{label:t.title,prop:t.key,align:"center"}}):e._e(),e._v(" "),"image"==t.slot?a("el-table-column",{key:i,attrs:{label:t.title,align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"acea-row row-middle row-center-wrapper",on:{click:function(a){return e.modalPicTap("2","dan",t.$index)}}},[e.items[t.$index].image?a("div",{staticClass:"pictrue pictrueTab"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.items[t.$index].image,expression:"items[scope.$index].image"}]})]):a("div",{staticClass:"upLoad upLoadTab acea-row row-center-wrapper"},[a("i",{staticClass:"el-icon-camera cameraIconfont"})])])]}}],null,!0)}):e._e(),e._v(" "),"price"==t.slot?a("el-table-column",{key:i,attrs:{label:t.title,align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticClass:"priceBox",model:{value:e.items[t.$index].price,callback:function(a){e.$set(e.items[t.$index],"price",e._n(a))},expression:"items[scope.$index].price"}})]}}],null,!0)}):e._e(),e._v(" "),"cost"==t.slot?a("el-table-column",{key:i,attrs:{label:t.title,align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticClass:"priceBox",model:{value:e.items[t.$index].cost,callback:function(a){e.$set(e.items[t.$index],"cost",e._n(a))},expression:"items[scope.$index].cost"}})]}}],null,!0)}):e._e(),e._v(" "),"ot_price"==t.slot?a("el-table-column",{key:i,attrs:{label:t.title,align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticClass:"priceBox",model:{value:e.items[t.$index].ot_price,callback:function(a){e.$set(e.items[t.$index],"ot_price",e._n(a))},expression:"items[scope.$index].ot_price"}})]}}],null,!0)}):e._e(),e._v(" "),"stock"==t.slot?a("el-table-column",{key:i,attrs:{label:t.title,align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticClass:"priceBox",model:{value:e.items[t.$index].stock,callback:function(a){e.$set(e.items[t.$index],"stock",e._n(a))},expression:"items[scope.$index].stock"}})]}}],null,!0)}):e._e(),e._v(" "),"bar_code"==t.slot?a("el-table-column",{key:i,attrs:{label:t.title,align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticClass:"priceBox",model:{value:e.items[t.$index].bar_code,callback:function(a){e.$set(e.items[t.$index],"bar_code",a)},expression:"items[scope.$index].bar_code"}})]}}],null,!0)}):e._e(),e._v(" "),"weight"==t.slot?a("el-table-column",{key:i,attrs:{label:t.title,align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticClass:"priceBox",model:{value:e.items[t.$index].weight,callback:function(a){e.$set(e.items[t.$index],"weight",a)},expression:"items[scope.$index].weight"}})]}}],null,!0)}):e._e(),e._v(" "),"volume"==t.slot?a("el-table-column",{key:i,attrs:{label:t.title,align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticClass:"priceBox",model:{value:e.items[t.$index].volume,callback:function(a){e.$set(e.items[t.$index],"volume",e._n(a))},expression:"items[scope.$index].volume"}})]}}],null,!0)}):e._e(),e._v(" "),"action"==t.slot?a("el-table-column",{key:i,attrs:{label:t.title,align:"center"},scopedSlots:e._u([{key:"default",fn:function(i){return"action"==t.slot?[a("a",{staticClass:"ela-btn",attrs:{href:"javascript: void(0);"},on:{click:function(t){return e.delAttrTable(i.$index)}}},[e._v("删除")])]:void 0}}],null,!0)}):e._e()]}))],2)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"商品详情："}},[a("vue-ueditor-wrap",{staticStyle:{width:"100%"},attrs:{config:e.myConfig},on:{beforeInit:e.addCustomDialog},model:{value:e.formValidate.content,callback:function(t){e.$set(e.formValidate,"content",t)},expression:"formValidate.content"}})],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"submission",attrs:{loading:e.loading1,type:"primary"},on:{click:function(t){return e.handleSubmit("formValidate")}}},[e._v("提交")])],1)],1):e._e()])],1)],1):e._e(),e._v(" "),a("copy-record",{ref:"copyRecord"})],1)},s=[],c=a("75fc"),d=(a("7f7f"),a("6625")),m=a.n(d),u=a("b5b8"),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.showRecord?a("el-dialog",{attrs:{title:"复制记录",visible:e.showRecord,width:"900px"},on:{"update:visible":function(t){e.showRecord=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"table",staticStyle:{width:"100%"},attrs:{data:e.tableData.data,size:"mini","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"ID",prop:"mer_id","min-width":"50"}}),e._v(" "),a("el-table-column",{attrs:{label:"使用次数",prop:"num","min-width":"80"}}),e._v(" "),a("el-table-column",{attrs:{label:"复制商品平台名称",prop:"type","min-width":"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"剩余次数",prop:"copy_product_num","min-width":"80"}}),e._v(" "),a("el-table-column",{attrs:{label:"商品复制链接",prop:"url","min-width":"180"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作时间",prop:"create_time","min-width":"120"}})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"page-sizes":[10,20],"page-size":e.tableFrom.limit,"current-page":e.tableFrom.page,layout:"total, sizes, prev, pager, next, jumper",total:e.tableData.total},on:{"size-change":e.handleSizeChange,"current-change":e.pageChange}})],1)],1)]):e._e()},f=[],g={name:"copyRecord",data:function(){return{showRecord:!1,loading:!1,tableData:{data:[],total:0},tableFrom:{page:1,limit:10}}},methods:{getRecord:function(){var e=this;this.showRecord=!0,this.loading=!0,Object(o["l"])(this.tableFrom).then((function(t){e.tableData.data=t.data.list,e.tableData.total=t.data.count,e.loading=!1})).catch((function(t){e.$message.error(t.message),e.listLoading=!1}))},pageChange:function(e){this.tableFrom.page=e,this.getRecord()},pageChangeLog:function(e){this.tableFromLog.page=e,this.getRecord()},handleSizeChange:function(e){this.tableFrom.limit=e,this.getRecord()}}},_=g,b=(a("b9a9"),a("2877")),h=Object(b["a"])(_,p,f,!1,null,"5a24171a",null),v=h.exports,y={name:"copyTaoBao",data:function(){return{modals:!1,loading:!1,loading1:!1,oneFormBatch:[{pic:"",price:0,cost:0,ot_price:0,stock:0,bar_code:"",weight:0,volume:0}],columnsBatch:[{title:"图片",slot:"image",align:"center",minWidth:80},{title:"售价",slot:"price",align:"center",minWidth:95},{title:"成本价",slot:"cost",align:"center",minWidth:95},{title:"原价",slot:"ot_price",align:"center",minWidth:95},{title:"库存",slot:"stock",align:"center",minWidth:95},{title:"商品编号",slot:"bar_code",align:"center",minWidth:120},{title:"重量（KG）",slot:"weight",align:"center",minWidth:95},{title:"体积(m³)",slot:"volume",align:"center",minWidth:95}],count:0,modal_loading:!1,images:"",soure_link:"",modalPic:!1,isChoice:"",gridPic:{xl:6,lg:8,md:12,sm:12,xs:12},gridBtn:{xl:4,lg:8,md:8,sm:8,xs:8},columns:[],categoryList:[],merCateList:[],BrandList:[],propsMer:{emitPath:!1,multiple:!0},tableFrom:{mer_cate_id:"",cate_id:"",keyword:"",type:"1",is_gift_bag:""},ruleInline:{cate_id:[{required:!0,message:"请选择商品分类",trigger:"change"}],mer_cate_id:[{required:!0,message:"请选择商户分类",trigger:"change",type:"array",min:"1"}],temp_id:[{required:!0,message:"请选择运费模板",trigger:"change",type:"number"}],brand_id:[{required:!0,message:"请选择品牌",trigger:"change"}],store_info:[{required:!0,message:"请输入商品简介",trigger:"blur"}]},grid:{xl:8,lg:8,md:12,sm:24,xs:24},grid2:{xl:12,lg:12,md:12,sm:24,xs:24},myConfig:{autoHeightEnabled:!1,initialFrameHeight:500,initialFrameWidth:"100%",UEDITOR_HOME_URL:"/UEditor/",serverUrl:""},formValidate:{store_name:"",cate_id:"",temp_id:"",keyword:"",unit_name:"",store_info:"",image:"",slider_image:[],content:"",ficti:0,give_integral:0,is_show:0,price:0,cost:0,ot_price:0,stock:0,soure_link:"",description_images:"",postage:0,attrs:[],items:[],spec_type:0,is_copoy:1,attrValue:[{image:"",price:0,cost:0,ot_price:0,stock:0,bar_code:"",weight:0,volume:0}]},items:[{image:"",price:0,cost:0,ot_price:0,stock:0,bar_code:"",weight:0,volume:0}],shippingList:[],isData:!1,artFrom:{type:"taobao",url:""},tableIndex:0,labelPosition:"right",labelWidth:"120",isMore:"",taoBaoStatus:{}}},components:{VueUeditorWrap:m.a,UploadIndex:u["default"],copyRecord:v},computed:{},created:function(){this.goodsCategory(),this.getCategorySelect(),this.getBrandListApi()},mounted:function(){this.productGetTemplate(),this.getCopyCount()},methods:{getCopyCount:function(){var e=this;Object(o["k"])().then((function(t){e.count=t.data.count}))},openRecords:function(){this.$refs.copyRecord.getRecord()},batchDel:function(){this.oneFormBatch=[{pic:"",price:0,cost:0,ot_price:0,stock:0,bar_code:"",weight:0,volume:0}]},batchAdd:function(){var e=this.oneFormBatch[0];this.$set(this.items,"value",this.formValidate.info.value.map((function(t){return e.pic&&(t.image=e.pic),e.price>0&&(t.price=e.price),e.cost>0&&(t.cost=e.cost),e.ot_price>0&&(t.ot_price=e.ot_price),e.stock>0&&(t.stock=e.stock),e.bar_code&&(t.bar_code=e.bar_code),e.weight&&(t.weight=e.weight),e.volume&&(t.volume=e.volume),t})))},delAttrTable:function(e){this.items.splice(e,1)},productGetTemplate:function(){var e=this;Object(o["z"])().then((function(t){e.shippingList=t.data}))},handleRemove:function(e){this.formValidate.slider_image.splice(e,1)},checked:function(e,t){this.formValidate.image=e},goodsCategory:function(){var e=this;Object(o["e"])().then((function(t){e.categoryList=t.data})).catch((function(t){e.$message.error(t.message)}))},getCategorySelect:function(){var e=this;Object(o["f"])().then((function(t){e.merCateList=t.data})).catch((function(t){e.$message.error(t.message)}))},getBrandListApi:function(){var e=this;Object(o["d"])().then((function(t){e.BrandList=t.data})).catch((function(t){e.$message.error(t.message)}))},add:function(){var e=this;if(this.soure_link){var t=/(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&:/~\+#]*[\w\-\@?^=%&/~\+#])?/;if(!t.test(this.soure_link))return this.$Message.warning("请输入以http开头的地址！");this.artFrom.url=this.soure_link,this.loading=!0,Object(o["g"])(this.artFrom).then((function(t){var a=t.data.info;e.columns=a.info&&a.info.header||e.columnsBatch,e.formValidate=a,e.taoBaoStatus=a.info?a.info:"",e.formValidate.content=a.description||"",e.formValidate.is_show=0,e.formValidate.soure_link=e.soure_link,e.formValidate.attr=a.info&&a.info.attr||[],e.formValidate.attrValue=a.info&&a.info.value||[{image:"",price:0,cost:0,ot_price:0,stock:0,bar_code:"",weight:0,volume:0}],e.formValidate.spec_type=a.info?1:0,e.formValidate.image&&(e.oneFormBatch[0].pic=e.formValidate.image),e.items=a.info&&a.info.value||[{image:a.image,price:0,cost:0,ot_price:0,stock:0,bar_code:"",weight:0,volume:0}],e.isData=!0,e.loading=!1})).catch((function(t){e.$message.error(t.message),e.loading=!1}))}else this.$message.warning("请输入链接地址！")},handleSubmit:function(e){var t=this;this.$refs[e].validate((function(e){e?(t.modal_loading=!0,t.formValidate.cate_id=t.formValidate.cate_id.pop(),t.formValidate.is_copoy=1,t.formValidate.attrValue=t.items,t.loading1=!0,Object(o["m"])(t.formValidate).then((function(e){t.$message.success("商品默认为不上架状态请手动上架商品!"),t.loading1=!1,setTimeout((function(){t.modal_loading=!1}),500),setTimeout((function(){t.modals=!1}),600),t.$emit("getSuccess")})).catch((function(e){t.modal_loading=!1,t.$message.error(e.message),t.loading1=!1}))):t.formValidate.cate_id||t.$message.warning("请填写商品分类！")}))},modalPicTap:function(e,t,a){this.tableIndex=a;var i=this;this.$modalUpload((function(t){console.log(i.formValidate.attr[i.tableIndex]),"1"===e&&(i.oneFormBatch[0].pic=t[0]),"2"===e&&(i.items[i.tableIndex].image=t[0]),i.modalPic=!1}),e)},getPic:function(e){this.callback(e),console.log(e.att_dir),console.log(this.formValidate.attrs),console.log(this.tableIndex),console.log(this.formValidate.attrs[this.tableIndex].pic),this.formValidate.attr[this.tableIndex].pic=e.att_dir,this.modalPic=!1},handleDragStart:function(e,t){this.dragging=t},handleDragEnd:function(e,t){this.dragging=null},handleDragOver:function(e){e.dataTransfer.dropEffect="move"},handleDragEnter:function(e,t){if(e.dataTransfer.effectAllowed="move",t!==this.dragging){var a=Object(c["a"])(this.formValidate.slider_image),i=a.indexOf(this.dragging),l=a.indexOf(t);a.splice.apply(a,[l,0].concat(Object(c["a"])(a.splice(i,1)))),this.formValidate.slider_image=a}},addCustomDialog:function(e){window.UE.registerUI("test-dialog",(function(e,t){var a=new window.UE.ui.Dialog({iframeUrl:"/admin/widget.images/index.html?fodder=dialog",editor:e,name:t,title:"上传图片",cssRules:"width:1200px;height:500px;padding:20px;"});this.dialog=a;var i=new window.UE.ui.Button({name:"dialog-button",title:"上传图片",cssRules:"background-image: url(../../../assets/images/icons.png);background-position: -726px -77px;",onclick:function(){a.render(),a.open()}});return i}))}}},w=y,k=(a("4e63"),Object(b["a"])(w,r,s,!1,null,"7807d73f",null)),x=k.exports,C={name:"ProductList",components:{taoBao:x},data:function(){return{props:{emitPath:!1},roterPre:n["roterPre"],headeNum:[],listLoading:!0,tableData:{data:[],total:0},tableFrom:{page:1,limit:20,mer_cate_id:"",cate_id:"",keyword:"",type:"1",is_gift_bag:""},categoryList:[],merCateList:[],modals:!1}},mounted:function(){this.getLstFilterApi(),this.getCategorySelect(),this.getCategoryList(),this.getList(1)},methods:{getSuccess:function(){this.getLstFilterApi(),this.getList(1)},onClose:function(){this.modals=!1},onCopy:function(){this.$refs.taoBao.modals=!0,this.$refs.taoBao.soure_link="",this.$refs.taoBao.formValidate={},this.$refs.taoBao.isData=!1},handleRestore:function(e){var t=this;this.$modalSure("恢复商品").then((function(){Object(o["r"])(e).then((function(e){t.$message.success(e.message),t.getLstFilterApi(),t.getList("")})).catch((function(e){t.$message.error(e.message)}))}))},getCategorySelect:function(){var e=this;Object(o["f"])().then((function(t){e.merCateList=t.data})).catch((function(t){e.$message.error(t.message)}))},getCategoryList:function(){var e=this;Object(o["e"])().then((function(t){e.categoryList=t.data})).catch((function(t){e.$message.error(t.message)}))},getLstFilterApi:function(){var e=this;Object(o["i"])().then((function(t){e.headeNum=t.data})).catch((function(t){e.$message.error(t.message)}))},getList:function(e){var t=this;this.listLoading=!0,this.tableFrom.page=e||this.tableFrom.page,Object(o["p"])(this.tableFrom).then((function(e){t.tableData.data=e.data.list,t.tableData.total=e.data.count,t.listLoading=!1})).catch((function(e){t.listLoading=!1,t.$message.error(e.message)})),this.getLstFilterApi()},pageChange:function(e){this.tableFrom.page=e,this.getList("")},handleSizeChange:function(e){this.tableFrom.limit=e,this.getList("")},handleDelete:function(e,t){var a=this;this.$modalSure("5"!==this.tableFrom.type?"加入回收站":"").then((function(){"5"===a.tableFrom.type?Object(o["h"])(e).then((function(e){var t=e.message;a.$message.success(t),a.getList(""),a.getLstFilterApi()})).catch((function(e){var t=e.message;a.$message.error(t)})):Object(o["n"])(e).then((function(e){var t=e.message;a.$message.success(t),a.getList(""),a.getLstFilterApi()})).catch((function(e){var t=e.message;a.$message.error(t)}))}))},onchangeIsShow:function(e){var t=this;Object(o["F"])(e.product_id,e.is_show).then((function(e){var a=e.message;t.$message.success(a),t.getList(""),t.getLstFilterApi()})).catch((function(e){var a=e.message;t.$message.error(a)}))}}},$=C,F=(a("b927"),Object(b["a"])($,i,l,!1,null,"251882e2",null));t["default"]=F.exports},e837:function(e,t,a){}}]);